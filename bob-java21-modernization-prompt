
Create a comprehensive plan to analyze the existing Java codebase repository by examining its structure, dependencies, build configuration, test coverage, and identifying Java 11 specific features and patterns currently in use. Document all third-party libraries, frameworks, and their versions, noting any that may have compatibility issues with Java 21.

Develop a detailed task plan for modernizing the application from Java 11 to Java 21 that includes updating the Java version in build files, migrating deprecated APIs to their modern equivalents, leveraging new Java 21 features such as virtual threads, pattern matching, record patterns, sequenced collections, and string templates where appropriate, updating all dependencies and plugins to Java 21 compatible versions, refactoring code to use modern language constructs, addressing any breaking changes between Java 11 and Java 21, updating documentation and comments to reflect modernization changes, and establishing a testing strategy to validate functionality throughout the migration.

Execute the modernization plan systematically by updating the project configuration files including pom.xml or build.gradle to specify Java 21 as the target version, replacing deprecated APIs and methods with their Java 21 equivalents, refactoring code to incorporate modern Java features where they provide clear benefits, updating all dependencies to versions that support Java 21, resolving any compilation errors or warnings that arise from the version upgrade, and applying code quality improvements enabled by newer language features.

Build the modernized application using the appropriate build tool with Java 21, ensuring all compilation steps complete successfully without errors or critical warnings, and verifying that all build artifacts are generated correctly.

Run the modernized application in a Java 21 runtime environment, confirming that it starts successfully, all services initialize properly, and the application behaves as expected under normal operating conditions.

Test the modernized application thoroughly by executing the complete test suite including unit tests, integration tests, and end-to-end tests, verifying that all existing tests pass with Java 21, adding new tests to cover any refactored code or new features introduced during modernization, performing regression testing to ensure no functionality has been broken, conducting performance testing to validate that the application meets or exceeds previous performance benchmarks, and documenting any test failures or issues discovered with their resolutions.

Check in the fully modernized, tested, and validated project to a new repository with the name format of the existing repository name appended with "-java21", ensuring all source code, configuration files, documentation, and build scripts are included, the commit history reflects the modernization work performed, and the repository includes an updated README documenting the Java 21 migration and any new setup or deployment requirements.
